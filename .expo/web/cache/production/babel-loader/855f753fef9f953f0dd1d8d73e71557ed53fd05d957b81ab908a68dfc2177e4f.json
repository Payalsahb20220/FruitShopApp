{"ast":null,"code":"import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{WebView}from'react-native-webview';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function OnlinePayment({route}){const{name,contactNumber,totalPrice,cart}=route.params;const[paymentStatus,setPaymentStatus]=useState(null);const PAYPAL_CLIENT_ID='ATQXO8R9iQ_dyBJYRh4UI8bO7XDknVIRNgQw-k2Bxu74pV619B7jAydBPn4wAtTd2N7r4D90H5pg_9tJ';const PAYPAL_ENV='sandbox';const REDIRECT_URL='https://fruitsshop-bf9a7.web.app/success.html';const paypalUrl=`https://www.sandbox.paypal.com/checkoutnow?client_id=${PAYPAL_CLIENT_ID}&currency=USD&amount=${totalPrice}`;const handleNavigationStateChange=event=>{if(event.url.includes(REDIRECT_URL)){setPaymentStatus('success');}};if(paymentStatus==='success'){return _jsxs(View,{style:styles.container,children:[_jsx(Text,{style:styles.title,children:\"Payment Successful\"}),_jsx(Text,{style:styles.text,children:\"Thank you for your payment! Your order is being processed.\"}),_jsx(TouchableOpacity,{style:styles.button,onPress:()=>{},children:_jsx(Text,{style:styles.buttonText,children:\"Go to Orders\"})})]});}return _jsxs(View,{style:styles.container,children:[_jsx(Text,{style:styles.subTitle,children:\"Your Order Summary\"}),_jsxs(View,{style:styles.infoContainer,children:[_jsxs(Text,{style:styles.text,children:[_jsx(Text,{style:styles.bold,children:\"Name:\"}),\" \",name]}),_jsxs(Text,{style:styles.text,children:[_jsx(Text,{style:styles.bold,children:\"Contact:\"}),\" \",contactNumber]}),_jsxs(Text,{style:styles.text,children:[_jsx(Text,{style:styles.bold,children:\"Total Price:\"}),\" \\u20B9\",totalPrice.toFixed(2)]})]}),_jsx(Text,{style:styles.subTitle,children:\"Cart Items:\"}),_jsx(View,{style:styles.cartList,children:cart.map((item,index)=>_jsxs(Text,{style:styles.cartItem,children:[item.name,\" (x\",item.cartQuantity,\"): \\u20B9\",item.price.toFixed(2)]},index))}),_jsx(Text,{style:styles.note,children:\"Redirecting to PayPal for payment...\"}),_jsx(View,{style:styles.webViewContainer,children:_jsx(WebView,{source:{uri:paypalUrl},onNavigationStateChange:handleNavigationStateChange,startInLoadingState:true,renderLoading:()=>_jsx(ActivityIndicator,{size:\"large\",color:\"#4CAF50\"})})})]});}const styles=StyleSheet.create({container:{flex:1,padding:20,backgroundColor:'#f7f7f7'},title:{fontSize:28,fontWeight:'bold',color:'#333',marginBottom:10,textAlign:'center'},subTitle:{fontSize:18,fontWeight:'500',marginTop:20,color:'#555'},text:{fontSize:16,marginBottom:10,color:'#333'},bold:{fontWeight:'bold',color:'#000'},infoContainer:{backgroundColor:'#fff',padding:15,borderRadius:10,marginVertical:10,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:0.1,shadowRadius:4,elevation:3},cartList:{backgroundColor:'#fff',padding:10,borderRadius:10,marginVertical:10,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:0.1,shadowRadius:4,elevation:3},cartItem:{fontSize:14,marginLeft:10,color:'#555'},note:{marginTop:20,fontSize:14,color:'#888',textAlign:'center'},webViewContainer:{flex:1,marginTop:20,borderRadius:10,overflow:'hidden',borderWidth:1,borderColor:'#ddd'},button:{backgroundColor:'#4CAF50',paddingVertical:12,paddingHorizontal:25,borderRadius:25,marginTop:30,alignItems:'center',justifyContent:'center'},buttonText:{color:'#fff',fontSize:16,fontWeight:'bold'}});","map":{"version":3,"names":["React","useState","View","Text","StyleSheet","ActivityIndicator","TouchableOpacity","WebView","jsx","_jsx","jsxs","_jsxs","OnlinePayment","route","name","contactNumber","totalPrice","cart","params","paymentStatus","setPaymentStatus","PAYPAL_CLIENT_ID","PAYPAL_ENV","REDIRECT_URL","paypalUrl","handleNavigationStateChange","event","url","includes","style","styles","container","children","title","text","button","onPress","buttonText","subTitle","infoContainer","bold","toFixed","cartList","map","item","index","cartItem","cartQuantity","price","note","webViewContainer","source","uri","onNavigationStateChange","startInLoadingState","renderLoading","size","color","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","textAlign","marginTop","borderRadius","marginVertical","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","marginLeft","overflow","borderWidth","borderColor","paddingVertical","paddingHorizontal","alignItems","justifyContent"],"sources":["/Users/payalsah/Documents/FruitShopApp/screens/OnlinePayment.tsx"],"sourcesContent":["// import React from 'react';\n// import { View, Text, StyleSheet } from 'react-native';\n\n// export default function OnlinePayment({ route }: any) {\n//   const { name, contactNumber, totalPrice, cart } = route.params;\n\n//   return (\n//     <View style={styles.container}>\n//       <Text style={styles.title}>Online Payment</Text>\n//       <Text style={styles.text}>Name: {name}</Text>\n//       <Text style={styles.text}>Contact: {contactNumber}</Text>\n//       <Text style={styles.text}>Total Price: ₹{totalPrice.toFixed(2)}</Text>\n//       <Text style={styles.text}>Cart Items:</Text>\n//       {cart.map((item: any, index: number) => (\n//         <Text key={index} style={styles.cartItem}>\n//           - {item.name} (x{item.cartQuantity}): ₹{item.price.toFixed(2)}\n//         </Text>\n//       ))}\n//       {/* Add actual payment gateway integration here */}\n//       <Text style={styles.note}>Payment functionality is under development.</Text>\n//     </View>\n//   );\n// }\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     padding: 20,\n//     backgroundColor: '#f7f7f7',\n//   },\n//   title: {\n//     fontSize: 24,\n//     fontWeight: 'bold',\n//     marginBottom: 20,\n//     textAlign: 'center',\n//   },\n//   text: {\n//     fontSize: 16,\n//     marginBottom: 10,\n//   },\n//   cartItem: {\n//     fontSize: 14,\n//     marginLeft: 10,\n//   },\n//   note: {\n//     marginTop: 20,\n//     fontSize: 14,\n//     color: 'gray',\n//     textAlign: 'center',\n//   },\n// });\n\n\n\nimport React, { useState } from 'react';\nimport { View, Text, StyleSheet, ActivityIndicator, TouchableOpacity } from 'react-native';\nimport { WebView } from 'react-native-webview';\nimport * as Linking from 'expo-linking';\n\nexport default function OnlinePayment({ route }: any) {\n  const { name, contactNumber, totalPrice, cart } = route.params;\n  const [paymentStatus, setPaymentStatus] = useState<string | null>(null);\n\n  // PayPal configurations\n  const PAYPAL_CLIENT_ID = 'ATQXO8R9iQ_dyBJYRh4UI8bO7XDknVIRNgQw-k2Bxu74pV619B7jAydBPn4wAtTd2N7r4D90H5pg_9tJ'; // Replace with your PayPal client ID\n  const PAYPAL_ENV = 'sandbox'; // Use 'live' for production\n\n  // PayPal redirect URL\n  const REDIRECT_URL = 'https://fruitsshop-bf9a7.web.app/success.html'; // Replace with your custom success page URL\n  // const REDIRECT_URL = Linking.createURL('https://fruitsshop-bf9a7.web.app/success');\n  \n  // Generate the PayPal URL for payment\n  const paypalUrl = `https://www.sandbox.paypal.com/checkoutnow?client_id=${PAYPAL_CLIENT_ID}&currency=USD&amount=${totalPrice}`;\n\n  const handleNavigationStateChange = (event: any) => {\n    if (event.url.includes(REDIRECT_URL)) {\n      setPaymentStatus('success');\n    }\n  };\n\n  if (paymentStatus === 'success') {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.title}>Payment Successful</Text>\n        <Text style={styles.text}>Thank you for your payment! Your order is being processed.</Text>\n        <TouchableOpacity style={styles.button} onPress={() => {/* Navigate to another screen */}}>\n          <Text style={styles.buttonText}>Go to Orders</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      {/* <Text style={styles.title}>Online Payment</Text> */}\n      <Text style={styles.subTitle}>Your Order Summary</Text>\n      <View style={styles.infoContainer}>\n        <Text style={styles.text}><Text style={styles.bold}>Name:</Text> {name}</Text>\n        <Text style={styles.text}><Text style={styles.bold}>Contact:</Text> {contactNumber}</Text>\n        <Text style={styles.text}><Text style={styles.bold}>Total Price:</Text> ₹{totalPrice.toFixed(2)}</Text>\n      </View>\n\n      <Text style={styles.subTitle}>Cart Items:</Text>\n      <View style={styles.cartList}>\n        {cart.map((item: any, index: number) => (\n          <Text key={index} style={styles.cartItem}>{item.name} (x{item.cartQuantity}): ₹{item.price.toFixed(2)}\n          </Text>\n        ))}\n      </View>\n\n      <Text style={styles.note}>Redirecting to PayPal for payment...</Text>\n\n      <View style={styles.webViewContainer}>\n        <WebView\n          source={{ uri: paypalUrl }}\n          onNavigationStateChange={handleNavigationStateChange}\n          startInLoadingState={true}\n          renderLoading={() => <ActivityIndicator size=\"large\" color=\"#4CAF50\" />}\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: '#f7f7f7',\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 10,\n    textAlign: 'center',\n  },\n  subTitle: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 20,\n    color: '#555',\n  },\n  text: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: '#333',\n  },\n  bold: {\n    fontWeight: 'bold',\n    color: '#000',\n  },\n  infoContainer: {\n    backgroundColor: '#fff',\n    padding: 15,\n    borderRadius: 10,\n    marginVertical: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  cartList: {\n    backgroundColor: '#fff',\n    padding: 10,\n    borderRadius: 10,\n    marginVertical: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  cartItem: {\n    fontSize: 14,\n    marginLeft: 10,\n    color: '#555',\n  },\n  note: {\n    marginTop: 20,\n    fontSize: 14,\n    color: '#888',\n    textAlign: 'center',\n  },\n  webViewContainer: {\n    flex: 1,\n    marginTop: 20,\n    borderRadius: 10,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: '#ddd',\n  },\n  button: {\n    backgroundColor: '#4CAF50',\n    paddingVertical: 12,\n    paddingHorizontal: 25,\n    borderRadius: 25,\n    marginTop: 30,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}