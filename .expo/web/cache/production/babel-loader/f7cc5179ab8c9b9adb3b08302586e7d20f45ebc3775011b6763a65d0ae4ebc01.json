{"ast":null,"code":"import React from'react';import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Button from\"react-native-web/dist/exports/Button\";import{products}from'../data';import ProductCard from'../components/ProductCard';import{useCart}from'../contexts/CartContext';import{useNavigation}from'@react-navigation/native';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductsScreen=()=>{const{addToCart,cart}=useCart();const navigation=useNavigation();React.useLayoutEffect(()=>{navigation.setOptions({headerRight:()=>_jsx(Button,{title:\"Go to Cart\",onPress:()=>navigation.navigate('Cart'),color:\"#FFA500\"})});},[navigation]);const handleAddToCart=(product,quantity)=>{if(quantity>0){addToCart(product,quantity);}};return _jsxs(View,{style:styles.container,children:[_jsx(FlatList,{data:products,keyExtractor:item=>item.id.toString(),renderItem:({item})=>_jsx(ProductCard,{product:item,onAddToCart:handleAddToCart})}),_jsxs(Text,{style:styles.cartSummary,children:[\"Cart: \",cart.length,\" items\"]})]});};const styles=StyleSheet.create({container:{flex:1,backgroundColor:'#f8f8f8',padding:8},cartSummary:{fontSize:18,fontWeight:'bold',textAlign:'center',marginVertical:16}});export default ProductsScreen;","map":{"version":3,"names":["React","View","FlatList","Text","StyleSheet","Button","products","ProductCard","useCart","useNavigation","jsx","_jsx","jsxs","_jsxs","ProductsScreen","addToCart","cart","navigation","useLayoutEffect","setOptions","headerRight","title","onPress","navigate","color","handleAddToCart","product","quantity","style","styles","container","children","data","keyExtractor","item","id","toString","renderItem","onAddToCart","cartSummary","length","create","flex","backgroundColor","padding","fontSize","fontWeight","textAlign","marginVertical"],"sources":["/Users/payalsah/Documents/FruitShopApp/screens/ProductsScreen.tsx"],"sourcesContent":["import React from 'react';\nimport { View, FlatList, Text, StyleSheet , Button} from 'react-native';\nimport { products } from '../data'; // Import the product list\nimport ProductCard from '../components/ProductCard';\nimport { useCart } from '../contexts/CartContext'; // Use CartContext for global cart state\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { RootStackParamList } from '../navigation/types';\n\ntype CartScreenNavigationProp = NativeStackNavigationProp<RootStackParamList, 'Cart'>;\nconst ProductsScreen: React.FC = () => {\n  const { addToCart, cart } = useCart(); // Access global cart state and methods\n\n  const navigation = useNavigation<CartScreenNavigationProp>();\n  React.useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: () => (\n        <Button\n          title=\"Go to Cart\"\n          onPress={() => navigation.navigate('Cart')} // Ensure 'Cart' is your route name for CartScreen\n          color=\"#FFA500\"\n        />\n      ),\n    });\n  }, [navigation]);\n  const handleAddToCart = (product: any, quantity: number) => {\n    if (quantity > 0) {\n      addToCart(product, quantity); // Add product with the specified quantity to the cart\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      {/* Render product list */}\n      <FlatList\n        data={products}\n        keyExtractor={(item) => item.id.toString()}\n        renderItem={({ item }) => (\n          <ProductCard product={item} onAddToCart={handleAddToCart} />\n        )}\n      />\n      {/* Display cart summary */}\n      <Text style={styles.cartSummary}>Cart: {cart.length} items</Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f8f8f8',\n    padding: 8,\n  },\n  cartSummary: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginVertical: 16,\n  },\n});\n\nexport default ProductsScreen;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,IAAA,iDAAAC,QAAA,qDAAAC,IAAA,iDAAAC,UAAA,uDAAAC,MAAA,4CAE1B,OAASC,QAAQ,KAAQ,SAAS,CAClC,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,aAAa,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAKzD,KAAM,CAAAC,cAAwB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAAEC,SAAS,CAAEC,IAAK,CAAC,CAAGR,OAAO,CAAC,CAAC,CAErC,KAAM,CAAAS,UAAU,CAAGR,aAAa,CAA2B,CAAC,CAC5DT,KAAK,CAACkB,eAAe,CAAC,IAAM,CAC1BD,UAAU,CAACE,UAAU,CAAC,CACpBC,WAAW,CAAEA,CAAA,GACXT,IAAA,CAACN,MAAM,EACLgB,KAAK,CAAC,YAAY,CAClBC,OAAO,CAAEA,CAAA,GAAML,UAAU,CAACM,QAAQ,CAAC,MAAM,CAAE,CAC3CC,KAAK,CAAC,SAAS,CAChB,CAEL,CAAC,CAAC,CACJ,CAAC,CAAE,CAACP,UAAU,CAAC,CAAC,CAChB,KAAM,CAAAQ,eAAe,CAAGA,CAACC,OAAY,CAAEC,QAAgB,GAAK,CAC1D,GAAIA,QAAQ,CAAG,CAAC,CAAE,CAChBZ,SAAS,CAACW,OAAO,CAAEC,QAAQ,CAAC,CAC9B,CACF,CAAC,CAED,MACE,CAAAd,KAAA,CAACZ,IAAI,EAAC2B,KAAK,CAAEC,MAAM,CAACC,SAAU,CAAAC,QAAA,EAE5BpB,IAAA,CAACT,QAAQ,EACP8B,IAAI,CAAE1B,QAAS,CACf2B,YAAY,CAAGC,IAAI,EAAKA,IAAI,CAACC,EAAE,CAACC,QAAQ,CAAC,CAAE,CAC3CC,UAAU,CAAEA,CAAC,CAAEH,IAAK,CAAC,GACnBvB,IAAA,CAACJ,WAAW,EAACmB,OAAO,CAAEQ,IAAK,CAACI,WAAW,CAAEb,eAAgB,CAAE,CAC3D,CACH,CAAC,CAEFZ,KAAA,CAACV,IAAI,EAACyB,KAAK,CAAEC,MAAM,CAACU,WAAY,CAAAR,QAAA,EAAC,QAAM,CAACf,IAAI,CAACwB,MAAM,CAAC,QAAM,EAAM,CAAC,EAC7D,CAAC,CAEX,CAAC,CAED,KAAM,CAAAX,MAAM,CAAGzB,UAAU,CAACqC,MAAM,CAAC,CAC/BX,SAAS,CAAE,CACTY,IAAI,CAAE,CAAC,CACPC,eAAe,CAAE,SAAS,CAC1BC,OAAO,CAAE,CACX,CAAC,CACDL,WAAW,CAAE,CACXM,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,MAAM,CAClBC,SAAS,CAAE,QAAQ,CACnBC,cAAc,CAAE,EAClB,CACF,CAAC,CAAC,CAEF,cAAe,CAAAlC,cAAc","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}