{"ast":null,"code":"var _jsxFileName = \"/Users/payalsah/Documents/FruitShopApp/screens/SignupScreen.tsx\";\nimport React, { useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport { useNavigation } from '@react-navigation/native';\nimport { sendEmailVerification } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignupScreen() {\n  const [name, setName] = useState('');\n  const [mobile, setMobile] = useState('');\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const navigation = useNavigation();\n  const showAlert = (title, message) => {\n    if (Platform.OS === 'web') {\n      window.alert(`${title}: ${message}`);\n    } else {\n      Alert.alert(title, message);\n    }\n  };\n  const handleSignup = async () => {\n    if (!name || !mobile || !address || !email || !password) {\n      showAlert(\"Error\", \"All fields are required!\");\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n      await sendEmailVerification(user);\n      console.log(\"Verification email sent!\");\n      const db = getFirestore();\n      await setDoc(doc(db, \"users\", user.uid), {\n        name,\n        mobile,\n        address,\n        email,\n        photoURL: user.photoURL || null\n      });\n      console.log(\"User signed up:\", userCredential.user);\n      Alert.alert(\"Success\", \"Account created successfully! Please verify your email before logging in.\");\n      navigation.navigate(\"Home\");\n    } catch (error) {\n      console.error(\"Signup Error:\", error.message);\n      Alert.alert(\"Error\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return _jsxDEV(ScrollView, {\n    contentContainerStyle: styles.container,\n    children: [_jsxDEV(Text, {\n      style: styles.title,\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Full Name\",\n      placeholderTextColor: \"#aaa\",\n      value: name,\n      onChangeText: setName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Mobile Number\",\n      placeholderTextColor: \"#aaa\",\n      keyboardType: \"numeric\",\n      value: mobile,\n      onChangeText: setMobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Address\",\n      placeholderTextColor: \"#aaa\",\n      value: address,\n      onChangeText: setAddress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Email\",\n      placeholderTextColor: \"#aaa\",\n      keyboardType: \"email-address\",\n      value: email,\n      onChangeText: setEmail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Password\",\n      placeholderTextColor: \"#aaa\",\n      secureTextEntry: true,\n      value: password,\n      onChangeText: setPassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), _jsxDEV(TouchableOpacity, {\n      style: [styles.button, isLoading && styles.buttonDisabled],\n      onPress: handleSignup,\n      disabled: isLoading,\n      children: isLoading ? _jsxDEV(ActivityIndicator, {\n        color: \"#fff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this) : _jsxDEV(Text, {\n        style: styles.buttonText,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 20\n  },\n  input: {\n    width: '90%',\n    backgroundColor: '#f9f9f9',\n    padding: 15,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    marginBottom: 20\n  },\n  button: {\n    backgroundColor: '#FFA500',\n    padding: 15,\n    borderRadius: 8,\n    width: '80%',\n    alignItems: 'center',\n    marginVertical: 10\n  },\n  buttonDisabled: {\n    backgroundColor: '#FFC04C'\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"names":["React","useState","Text","TextInput","TouchableOpacity","StyleSheet","ScrollView","Alert","ActivityIndicator","createUserWithEmailAndPassword","auth","useNavigation","sendEmailVerification","getFirestore","doc","setDoc","Platform","jsxDEV","_jsxDEV","SignupScreen","name","setName","mobile","setMobile","address","setAddress","email","setEmail","password","setPassword","isLoading","setIsLoading","navigation","showAlert","title","message","OS","window","alert","handleSignup","userCredential","user","console","log","db","uid","photoURL","navigate","error","contentContainerStyle","styles","container","children","style","fileName","_jsxFileName","lineNumber","columnNumber","input","placeholder","placeholderTextColor","value","onChangeText","keyboardType","secureTextEntry","button","buttonDisabled","onPress","disabled","color","buttonText","create","flex","justifyContent","alignItems","backgroundColor","padding","fontSize","fontWeight","marginBottom","width","borderRadius","borderWidth","borderColor","marginVertical"],"sources":["/Users/payalsah/Documents/FruitShopApp/screens/SignupScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, ScrollView, Alert, ActivityIndicator } from 'react-native';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { RootStackParamList } from '../navigation/types';\nimport { sendEmailVerification } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport { Platform } from 'react-native';\n\n\n\n\ntype SignupScreenNavigationProp = NativeStackNavigationProp<RootStackParamList, 'Signup'>;\n\nexport default function SignupScreen() {\n  const [name, setName] = useState('');\n  const [mobile, setMobile] = useState('');\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false); // For button state\n  const navigation = useNavigation<SignupScreenNavigationProp>();\n\n  const showAlert = (title: string, message: string) => {\n    if (Platform.OS === 'web') {\n      window.alert(`${title}: ${message}`);\n    } else {\n      Alert.alert(title, message);\n    }\n  };\n  \n\n  const handleSignup = async () => {\n    if (!name || !mobile || !address || !email || !password) {\n      showAlert(\"Error\", \"All fields are required!\");\n      return;\n    }\n\n    \n\n    setIsLoading(true); // Button in \"loading\" state\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n\n      // Send verification email\n      await sendEmailVerification(user);\n      console.log(\"Verification email sent!\");\n\n      // Save additional profile data to Firestore\n      const db = getFirestore();\n      await setDoc(doc(db, \"users\", user.uid), {\n        name,\n        mobile,\n        address,\n        email,\n        photoURL: user.photoURL || null,\n      });\n\n\n      console.log(\"User signed up:\", userCredential.user);\n      Alert.alert(\"Success\", \"Account created successfully! Please verify your email before logging in.\");\n      navigation.navigate(\"Home\"); // Navigate after success\n    } catch (error: any) {\n      console.error(\"Signup Error:\", error.message);\n      Alert.alert(\"Error\", error.message);\n    } finally {\n      setIsLoading(false); // Reset button state\n    }\n  };\n\n  return (\n    <ScrollView contentContainerStyle={styles.container}>\n      <Text style={styles.title}>Sign Up</Text>\n      <TextInput\n        style={styles.input}\n        placeholder=\"Full Name\"\n        placeholderTextColor=\"#aaa\"\n        value={name}\n        onChangeText={setName}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Mobile Number\"\n        placeholderTextColor=\"#aaa\"\n        keyboardType=\"numeric\"\n        value={mobile}\n        onChangeText={setMobile}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Address\"\n        placeholderTextColor=\"#aaa\"\n        value={address}\n        onChangeText={setAddress}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Email\"\n        placeholderTextColor=\"#aaa\"\n        keyboardType=\"email-address\"\n        value={email}\n        onChangeText={setEmail}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Password\"\n        placeholderTextColor=\"#aaa\"\n        secureTextEntry\n        value={password}\n        onChangeText={setPassword}\n      />\n      <TouchableOpacity\n        style={[styles.button, isLoading && styles.buttonDisabled]}\n        onPress={handleSignup}\n        disabled={isLoading}\n      >\n        {isLoading ? (\n          <ActivityIndicator color=\"#fff\" />\n        ) : (\n          <Text style={styles.buttonText}>Sign Up</Text>\n        )}\n      </TouchableOpacity>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 20,\n  },\n  input: {\n    width: '90%',\n    backgroundColor: '#f9f9f9',\n    padding: 15,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    marginBottom: 20,\n  },\n  button: {\n    backgroundColor: '#FFA500',\n    padding: 15,\n    borderRadius: 8,\n    width: '80%',\n    alignItems: 'center',\n    marginVertical: 10,\n  },\n  buttonDisabled: {\n    backgroundColor: '#FFC04C', // Lighter orange for the disabled state\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n\n\n\n\n\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,iBAAA;AAExC,SAASC,8BAA8B,QAAQ,eAAe;AAC9D,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,aAAa,QAAQ,0BAA0B;AAGxD,SAASC,qBAAqB,QAAQ,eAAe;AACrD,SAASC,YAAY,EAAEC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAAC,OAAAC,QAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAQ/D,eAAe,SAASC,YAAYA,CAAA,EAAG;EACrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACqB,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACyB,KAAK,EAAEC,QAAQ,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM+B,UAAU,GAAGrB,aAAa,CAA6B,CAAC;EAE9D,MAAMsB,SAAS,GAAGA,CAACC,KAAa,EAAEC,OAAe,KAAK;IACpD,IAAInB,QAAQ,CAACoB,EAAE,KAAK,KAAK,EAAE;MACzBC,MAAM,CAACC,KAAK,CAAC,GAAGJ,KAAK,KAAKC,OAAO,EAAE,CAAC;IACtC,CAAC,MAAM;MACL5B,KAAK,CAAC+B,KAAK,CAACJ,KAAK,EAAEC,OAAO,CAAC;IAC7B;EACF,CAAC;EAGD,MAAMI,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACnB,IAAI,IAAI,CAACE,MAAM,IAAI,CAACE,OAAO,IAAI,CAACE,KAAK,IAAI,CAACE,QAAQ,EAAE;MACvDK,SAAS,CAAC,OAAO,EAAE,0BAA0B,CAAC;MAC9C;IACF;IAIAF,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMS,cAAc,GAAG,MAAM/B,8BAA8B,CAACC,IAAI,EAAEgB,KAAK,EAAEE,QAAQ,CAAC;MAClF,MAAMa,IAAI,GAAGD,cAAc,CAACC,IAAI;MAGhC,MAAM7B,qBAAqB,CAAC6B,IAAI,CAAC;MACjCC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MAGvC,MAAMC,EAAE,GAAG/B,YAAY,CAAC,CAAC;MACzB,MAAME,MAAM,CAACD,GAAG,CAAC8B,EAAE,EAAE,OAAO,EAAEH,IAAI,CAACI,GAAG,CAAC,EAAE;QACvCzB,IAAI;QACJE,MAAM;QACNE,OAAO;QACPE,KAAK;QACLoB,QAAQ,EAAEL,IAAI,CAACK,QAAQ,IAAI;MAC7B,CAAC,CAAC;MAGFJ,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,cAAc,CAACC,IAAI,CAAC;MACnDlC,KAAK,CAAC+B,KAAK,CAAC,SAAS,EAAE,2EAA2E,CAAC;MACnGN,UAAU,CAACe,QAAQ,CAAC,MAAM,CAAC;IAC7B,CAAC,CAAC,OAAOC,KAAU,EAAE;MACnBN,OAAO,CAACM,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACb,OAAO,CAAC;MAC7C5B,KAAK,CAAC+B,KAAK,CAAC,OAAO,EAAEU,KAAK,CAACb,OAAO,CAAC;IACrC,CAAC,SAAS;MACRJ,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,OACEb,OAAA,CAACZ,UAAU;IAAC2C,qBAAqB,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAClDlC,OAAA,CAAChB,IAAI;MAACmD,KAAK,EAAEH,MAAM,CAAChB,KAAM;MAAAkB,QAAA,EAAC;IAAO;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EACzCvC,OAAA,CAACf,SAAS;MACRkD,KAAK,EAAEH,MAAM,CAACQ,KAAM;MACpBC,WAAW,EAAC,WAAW;MACvBC,oBAAoB,EAAC,MAAM;MAC3BC,KAAK,EAAEzC,IAAK;MACZ0C,YAAY,EAAEzC;IAAQ;MAAAiC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC,EACFvC,OAAA,CAACf,SAAS;MACRkD,KAAK,EAAEH,MAAM,CAACQ,KAAM;MACpBC,WAAW,EAAC,eAAe;MAC3BC,oBAAoB,EAAC,MAAM;MAC3BG,YAAY,EAAC,SAAS;MACtBF,KAAK,EAAEvC,MAAO;MACdwC,YAAY,EAAEvC;IAAU;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,EACFvC,OAAA,CAACf,SAAS;MACRkD,KAAK,EAAEH,MAAM,CAACQ,KAAM;MACpBC,WAAW,EAAC,SAAS;MACrBC,oBAAoB,EAAC,MAAM;MAC3BC,KAAK,EAAErC,OAAQ;MACfsC,YAAY,EAAErC;IAAW;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,EACFvC,OAAA,CAACf,SAAS;MACRkD,KAAK,EAAEH,MAAM,CAACQ,KAAM;MACpBC,WAAW,EAAC,OAAO;MACnBC,oBAAoB,EAAC,MAAM;MAC3BG,YAAY,EAAC,eAAe;MAC5BF,KAAK,EAAEnC,KAAM;MACboC,YAAY,EAAEnC;IAAS;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,EACFvC,OAAA,CAACf,SAAS;MACRkD,KAAK,EAAEH,MAAM,CAACQ,KAAM;MACpBC,WAAW,EAAC,UAAU;MACtBC,oBAAoB,EAAC,MAAM;MAC3BI,eAAe;MACfH,KAAK,EAAEjC,QAAS;MAChBkC,YAAY,EAAEjC;IAAY;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC,EACFvC,OAAA,CAACd,gBAAgB;MACfiD,KAAK,EAAE,CAACH,MAAM,CAACe,MAAM,EAAEnC,SAAS,IAAIoB,MAAM,CAACgB,cAAc,CAAE;MAC3DC,OAAO,EAAE5B,YAAa;MACtB6B,QAAQ,EAAEtC,SAAU;MAAAsB,QAAA,EAEnBtB,SAAS,GACRZ,OAAA,CAACV,iBAAiB;QAAC6D,KAAK,EAAC;MAAM;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GAElCvC,OAAA,CAAChB,IAAI;QAACmD,KAAK,EAAEH,MAAM,CAACoB,UAAW;QAAAlB,QAAA,EAAC;MAAO;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAC9C;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACe,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEjB;AAEA,MAAMP,MAAM,GAAG7C,UAAU,CAACkE,MAAM,CAAC;EAC/BpB,SAAS,EAAE;IACTqB,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IACpBC,eAAe,EAAE,MAAM;IACvBC,OAAO,EAAE;EACX,CAAC;EACD1C,KAAK,EAAE;IACL2C,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBT,KAAK,EAAE,MAAM;IACbU,YAAY,EAAE;EAChB,CAAC;EACDrB,KAAK,EAAE;IACLsB,KAAK,EAAE,KAAK;IACZL,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE,EAAE;IACXK,YAAY,EAAE,CAAC;IACfC,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBJ,YAAY,EAAE;EAChB,CAAC;EACDd,MAAM,EAAE;IACNU,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE,EAAE;IACXK,YAAY,EAAE,CAAC;IACfD,KAAK,EAAE,KAAK;IACZN,UAAU,EAAE,QAAQ;IACpBU,cAAc,EAAE;EAClB,CAAC;EACDlB,cAAc,EAAE;IACdS,eAAe,EAAE;EACnB,CAAC;EACDL,UAAU,EAAE;IACVD,KAAK,EAAE,MAAM;IACbQ,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}