{"ast":null,"code":"var _jsxFileName = \"/Users/payalsah/Documents/FruitShopApp/screens/SignupScreen.tsx\";\nimport React, { useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport { useNavigation } from '@react-navigation/native';\nimport { sendEmailVerification } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignupScreen() {\n  const [name, setName] = useState('');\n  const [mobile, setMobile] = useState('');\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const navigation = useNavigation();\n  const handleSignup = async () => {\n    if (!name || !mobile || !address || !email || !password) {\n      Alert.alert(\"Error\", \"All fields are required!\");\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n      await sendEmailVerification(user);\n      console.log(\"Verification email sent!\");\n      const db = getFirestore();\n      await setDoc(doc(db, \"users\", user.uid), {\n        name,\n        mobile,\n        address,\n        email,\n        photoURL: user.photoURL || null\n      });\n      console.log(\"User signed up:\", userCredential.user);\n      Alert.alert(\"Success\", \"Account created successfully! Please verify your email before logging in.\");\n      navigation.navigate(\"Home\");\n    } catch (error) {\n      console.error(\"Signup Error:\", error.message);\n      Alert.alert(\"Error\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return _jsxDEV(ScrollView, {\n    contentContainerStyle: styles.container,\n    children: [_jsxDEV(Text, {\n      style: styles.title,\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Full Name\",\n      placeholderTextColor: \"#aaa\",\n      value: name,\n      onChangeText: setName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Mobile Number\",\n      placeholderTextColor: \"#aaa\",\n      keyboardType: \"numeric\",\n      value: mobile,\n      onChangeText: setMobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Address\",\n      placeholderTextColor: \"#aaa\",\n      value: address,\n      onChangeText: setAddress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Email\",\n      placeholderTextColor: \"#aaa\",\n      keyboardType: \"email-address\",\n      value: email,\n      onChangeText: setEmail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Password\",\n      placeholderTextColor: \"#aaa\",\n      secureTextEntry: true,\n      value: password,\n      onChangeText: setPassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), _jsxDEV(TouchableOpacity, {\n      style: [styles.button, isLoading && styles.buttonDisabled],\n      onPress: handleSignup,\n      disabled: isLoading,\n      children: isLoading ? _jsxDEV(ActivityIndicator, {\n        color: \"#fff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this) : _jsxDEV(Text, {\n        style: styles.buttonText,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 20\n  },\n  input: {\n    width: '90%',\n    backgroundColor: '#f9f9f9',\n    padding: 15,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    marginBottom: 20\n  },\n  button: {\n    backgroundColor: '#FFA500',\n    padding: 15,\n    borderRadius: 8,\n    width: '80%',\n    alignItems: 'center',\n    marginVertical: 10\n  },\n  buttonDisabled: {\n    backgroundColor: '#FFC04C'\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"names":["React","useState","Text","TextInput","TouchableOpacity","StyleSheet","ScrollView","Alert","ActivityIndicator","createUserWithEmailAndPassword","auth","useNavigation","sendEmailVerification","getFirestore","doc","setDoc","jsxDEV","_jsxDEV","SignupScreen","name","setName","mobile","setMobile","address","setAddress","email","setEmail","password","setPassword","isLoading","setIsLoading","navigation","handleSignup","alert","userCredential","user","console","log","db","uid","photoURL","navigate","error","message","contentContainerStyle","styles","container","children","style","title","fileName","_jsxFileName","lineNumber","columnNumber","input","placeholder","placeholderTextColor","value","onChangeText","keyboardType","secureTextEntry","button","buttonDisabled","onPress","disabled","color","buttonText","create","flex","justifyContent","alignItems","backgroundColor","padding","fontSize","fontWeight","marginBottom","width","borderRadius","borderWidth","borderColor","marginVertical"],"sources":["/Users/payalsah/Documents/FruitShopApp/screens/SignupScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, ScrollView, Alert, ActivityIndicator } from 'react-native';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { RootStackParamList } from '../navigation/types';\nimport { sendEmailVerification } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\n\n\n\n\ntype SignupScreenNavigationProp = NativeStackNavigationProp<RootStackParamList, 'Signup'>;\n\nexport default function SignupScreen() {\n  const [name, setName] = useState('');\n  const [mobile, setMobile] = useState('');\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false); // For button state\n  const navigation = useNavigation<SignupScreenNavigationProp>();\n\n  \n\n  const handleSignup = async () => {\n    if (!name || !mobile || !address || !email || !password) {\n      Alert.alert(\"Error\", \"All fields are required!\");\n      return;\n    }\n\n    \n\n    setIsLoading(true); // Button in \"loading\" state\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n\n      // Send verification email\n      await sendEmailVerification(user);\n      console.log(\"Verification email sent!\");\n\n      // Save additional profile data to Firestore\n      const db = getFirestore();\n      await setDoc(doc(db, \"users\", user.uid), {\n        name,\n        mobile,\n        address,\n        email,\n        photoURL: user.photoURL || null,\n      });\n\n\n      console.log(\"User signed up:\", userCredential.user);\n      Alert.alert(\"Success\", \"Account created successfully! Please verify your email before logging in.\");\n      navigation.navigate(\"Home\"); // Navigate after success\n    } catch (error: any) {\n      console.error(\"Signup Error:\", error.message);\n      Alert.alert(\"Error\", error.message);\n    } finally {\n      setIsLoading(false); // Reset button state\n    }\n  };\n\n  return (\n    <ScrollView contentContainerStyle={styles.container}>\n      <Text style={styles.title}>Sign Up</Text>\n      <TextInput\n        style={styles.input}\n        placeholder=\"Full Name\"\n        placeholderTextColor=\"#aaa\"\n        value={name}\n        onChangeText={setName}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Mobile Number\"\n        placeholderTextColor=\"#aaa\"\n        keyboardType=\"numeric\"\n        value={mobile}\n        onChangeText={setMobile}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Address\"\n        placeholderTextColor=\"#aaa\"\n        value={address}\n        onChangeText={setAddress}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Email\"\n        placeholderTextColor=\"#aaa\"\n        keyboardType=\"email-address\"\n        value={email}\n        onChangeText={setEmail}\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Password\"\n        placeholderTextColor=\"#aaa\"\n        secureTextEntry\n        value={password}\n        onChangeText={setPassword}\n      />\n      <TouchableOpacity\n        style={[styles.button, isLoading && styles.buttonDisabled]}\n        onPress={handleSignup}\n        disabled={isLoading}\n      >\n        {isLoading ? (\n          <ActivityIndicator color=\"#fff\" />\n        ) : (\n          <Text style={styles.buttonText}>Sign Up</Text>\n        )}\n      </TouchableOpacity>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 20,\n  },\n  input: {\n    width: '90%',\n    backgroundColor: '#f9f9f9',\n    padding: 15,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    marginBottom: 20,\n  },\n  button: {\n    backgroundColor: '#FFA500',\n    padding: 15,\n    borderRadius: 8,\n    width: '80%',\n    alignItems: 'center',\n    marginVertical: 10,\n  },\n  buttonDisabled: {\n    backgroundColor: '#FFC04C', // Lighter orange for the disabled state\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}